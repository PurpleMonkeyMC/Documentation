# 功能更新日志

服务器新内容、bug修复等技术性更新一览。

_不包括新地图、比赛、活动等非技术性更新。_

> 该日志为倒序，也就是从最近到最久远的更新排序。

___

## 2025-01-20

[**新增快捷传送点**](lobby.md)
: 新增了炼金店的快捷传送点。

[**新增自助会员订阅**](ranks.md)
: 新增会员自助订阅功能，可以在通过传送点快捷传送至凯瑟琳处操作。

**计分板名称刷新**
: 在游戏中，为计分板上过长的地图名支持滚动刷新。

**创意地图的进度恢复**
: 现在，创意工坊也支持[进度保存与恢复](game.md#progress-save)了。

**创意地图的录像与管理**
: 为创意工坊支持录像功能，以便于查看玩家跑酷情况。

**常规赛：计时赛与轮次赛**
: 新增常规赛，目前分为“计时赛”与“轮次赛”两种类型。
: 详见 [竞速赛事/常规赛](competition.md#type-trail) 。

## 2024-03-24

[**支持个人载具功能**](lobby.md#vehicle)
: 现在可以在主城中召唤个人载具了。
: ![vehicle.png](vehicle.png)

[**新版充值界面上线**](recharge.md)
: 新版充值界面已上线。

[**ULTRA会员特权新增**](ranks.md)
: 现在ULTRA会员可以直接骑在管理员头上了。
与此同时，管理员也可以将Ta抛出去。

## 2024-02-19

[**支持修改工具物品顺序**](lobby.md#toolkit)
: 现在可在主城中修改工具物品的顺序，
: 其指令为 `/toolkit edit <物品包ID>` 。
: ![toolkit-editor.jpg](toolkit-editor.jpg){width="500"}

**传送问题修复**
: 修复了有时需要重复点击地图才可正常传送的问题。

## 2023-10-07

**赛事回放公开**
: 现已可在 `赛事-历史赛事` 中查看历史，并可查看各参赛者成绩、排名、查看比赛回放等。
: 回放经过优化，可支持高达100人同时播放。
: ~~_(但可能对渣机不太友好。)_~~

**新增水方块判定**
: 伤害来源选项新增“水”，可在 `创意工坊-关卡设置-伤害来源` 中进行设置，以允许让玩家在水中受到伤害，或者碰到水返回记录点。

**新增创意物品包**
: 可使用各种特殊的头颅、物品等。
: _将会在未来几天内实装。_

**匹配私人房间**
: 可在匹配中创建私人房间，私人房间不会在房间列表中显示，但可通过“邀请”来与小伙伴们一起玩。

**修复排行榜闪烁**
: 优化材质加载方式，由服务器代客户端加载材质，大大加快了客户端头颅加载速度。
: 同时修复官方地图排行榜在翻页、点击时头颅材质闪烁的bug；以及再次打开同一个排行榜时，(客户端)需重新加载材质的问题。

## 2023-09-22

**新增新增记录点成绩记录**
: 现会记录到达记录点最短的一次用时，并在每次到达记录点时与用时最短的一次对比。
: > 注意：不是和最好一次整体完成成绩的各记录点成绩进行对比，而是和该记录点最好成绩进行对比。 {style="note"}
: > 仅 **官方地图** 且 **选择了需按顺序踩下所有记录点** 的关卡可用。 {style="note"}

**实装创意等级**
: 创意工坊等级“帽子”已可查看，
: “魔力值”会根据上架地图数量、游玩人数、 点赞数、收藏数、被官方推荐数量等计算。
: > 在后续，具体数值会根据实际情况继续修改调优。

**灵魂比拼支持调整偏移**
: 可以在灵魂PK菜单中设置灵魂录像的播放偏移。

**灵魂轨迹显示**
: 可以在灵魂PK菜单中选择显示轨迹，以便指引您寻找路线或是学习大佬的路线。
: > 不建议给排名靠后的灵魂设置轨迹，否则过多的粒子可能会导致fps骤降。{style="warning"}

**修复“点错反悔”问题**
: 修复一个“点错反悔”可能导致问题的bug。

**修复创意评论问题**
: 修复创意评论单行过长时 ，没有自动换行；
: 以及自动换行修复后最后一行没有添加上去的bug。

**修复雷雨天气问题**
: 修复雷雨天气打雷只有声音的bug。
: 现在可看到闪电和天空颜色的变化。


**修复圆柱笔刷问题**
: 修复圆柱笔刷在撤销操作时只撤销了最下面一层的bug。


## 2023-9-10

**新增“赛事”**
: 主菜单的“赛事”可以点击进入，以参与官方或玩家举办的赛事，或查看赛事的历史和回放。
: 赛事报名分“**提前报名**”和“**现场报名**”。
: - “提前报名”需在报名时间内报名，并在比赛开始前提前15分钟进入签到。报名但没有签到视为放弃比赛；签到了但在比赛开始前退出或掉线可在比赛开始15分钟内进入继续比赛。
: - “现场报名”需在比赛准备时间内进入并点击“报名并签到”。
: 比赛支持掉线重连 ，如果剩余未完成玩家只剩掉线玩家，2分钟内不上线会结束比赛。

**玩家可自行举办赛事**
: 在 赛事-我的赛事 中可举办赛事
: 可选择一定的官方地图或自己的创意地图
: 举办赛事需提前(默认3天)提交并通过审核
: 如果选择的是创意地图，提交后将不能编辑它
: 直到比赛结束或举办请求被驳回才可编辑
: 所以提交前请务必检查地图是否已完善
: 建议设置好地图的“赛事选项”
: 另外可设置比赛的奖励以吸引玩家报名
: 金币和水晶奖励需预先在您账户中扣除
: 如赛后仍有剩余，将把剩余部分返还给您
: 自定义奖励需要您自行发放，请遵守信用

**新增拷贝功能方块**
: 功能方块新增“拷贝”选项
: 对于复杂又需重复的功能方块
: 现在可以大量复制了

**新增范围识别功能方块**
: 创建功能方块时新增“范围识别”选项
: 相当于同时创建多个位置的功能方块
: 如果存在多个方块上的功能方块
: 但又不想用方块类型识别
: 可使用该项
: 范围为立方形

**功能方块相对传送**
: 功能方块触发事件中的“传送”，现已可使用相对传送。
: 即以玩家现在坐标加上一定值，类似于`/tp ~+10 ~ ~-10`。

## 2023-8-28

**新增“创意评论”**
: 将之前的“创意建议”升级为“创意评论”
: 评论可选公开或未公开
: 可在主城创意菜单的“未读评论”中查看未读评论

**修复“点错反悔”问题**
: 修复一个“点错反悔”可能导致问题的bug

## 2023-8-24

**新增“快速编辑记录点”**
: 可以使用背包中的工具“快速编辑记录点”
: 或在编辑记录点界面中点击“快速编辑”以进入编辑状态。
: 具体用法为：
: 1. 使用“转到上一个”或“转到下一个”选中某个记录点，
: 2. 然后可以在这个记录点的后面插入新的记录点，比如当前选中#3，那么插入就是在#3后插入#4，而原来的#4就变成#5，原来的#5变成#6，以此类推。
: 3. 添加记录点时记得把脸朝向摆正，经常有人是向下看的，于是点击“回到记录点”后，脸是歪的而不是向前看，这样每次回到记录点都要重新抬头，体验极差。
: 4. 也可以删除所选记录点、为选中的记录点添加进度点。
: 编辑进度点时，会有粒子效果显示大致轨迹。
: 进度点可以让跑酷时经验条显示得更好，
: _但不是必须的，懒得设置可以不设置。_

**新增“快速编辑功能方块”**
: 先前每次要编辑一个功能方块要点很多次，非常繁琐。
: 比如要添加一个触发事件，就要
: 打开编辑菜单-关卡设置-功能性方块-创建功能方块-特定位置触发-触发事件-创建触发事件-药水效果-设置药水效果
: 现在简化了流程，再也不用每次都点半天才能编辑该功能方块：
: 1. 用背包中的工具，左键直接打开选择功能方块的界面；
: 2. 在打开的列表中点击一个功能方块，此时就“选中”了它；
: 3. 右键背包中的工具，就可以直接编辑选中的这个功能方块。
: 此外，Shift(下蹲)+右键一个方块，
: 就可以以这个方块创建一个功能方块并选中它。

**修复创意工坊翻页问题**
: 修复创意工坊公开地图翻页时， “我的创意工坊”也一起翻页的bug。
: > 感谢 _Lepoice_ 提出该bug。

## 2023-8-21

**无需下架就能编辑创意**
: 现在对于已上架的创意地图，无需下架即可编辑基本信息*(包括名称、描述、图标、标签等)*和管理排行榜了。
: 具体做法为：
: 1. 在创意工坊下方“我的创意工坊”中点击一个已经上架的地图;
: 2. 然后在弹出的新界面中<format color="red">不要点击下架</format>而是点击中间的“<format color='yellow'>编辑基本信息</format>”。

**新增“关卡标签”**
: 可以在创意的信息维护或关卡设置中编辑标签，
: 标签会在公开创意工坊列表中显示，
: 也可以通过“筛选”按钮只显示含有特定标签的地图。
: 建议使用为您的创意地图添加适当的标签，
: 以便玩家可以筛选到该地图。

**新增“举报受理提醒”**
: 使用指令 `/reports` 来查询您提交过的举报和处理情况。
: 点击一个未读的举报，即可标记为“已读”，也可点击“一键全部标记为已读”。

**发送Title可改时间了**
: 功能方块的发送Title现在可以修改
: 淡入时间、淡出时间、保留时间了。
: 注意保留时间不包括淡入和淡出时间，
: Title的总时间为三者相加。

**修复玩家名字显示问题**
: 修复有时候在游玩跑酷地图时，看不到其他玩家头上名字的bug。

## 2023-8-20

**新增匹配房间**
: 可在匹配中创建自己的房间，
: 可以用来测试自己创意赛事选项，
: 或者跟朋友一起竞速。

**修复点错反悔恶性问题**
: 修复原地练习、观察、进度恢复
: 与点错反悔同时使用时，
: 可以以不合理方式到达地图任意位置，
: 以进行跳关的bug。
: > 感谢bug提出者 **guapi** 。由于该bug非常严重且隐蔽， 奖励1500水晶。

**优化入服引导**
: 修改入服引导文字，
: 开启强制unicode和不开启会看到不同文字。
: 许多人不知怎么过的入服引导却没有按要求设置，
: 于是说“只能看到排行榜”。
: 现在在排行榜右上角的“i”可以看到游玩方法，
: 右键它可以重新进行入服引导。

## 2023-8-17

**新增“点错反悔**
: 经常有玩家跑了几小时后不小心点到了“重新开始”，或在很长又没记录点的地方点到“回到记录点”。
: 于是我们新增了一个“点错反悔”的功能，在不小心点错时，15秒内可以反悔。
: 如果在这15秒内不小心又踩了开始或不小心又点到了回到记录点或重新开始也没关系，15s内不会覆盖掉它。
但是如果又不小心点到回到主城、观察，那就没办法恢复了。
: ~~(应该没人这么不小心连续点到这么多下吧(笑))~~
: > 该功能为 ULTRA 会员专属功能。

## 2023-8-10

**创意新增赛事选项**
: 可以在创意主菜单中编辑赛事选项
: 赛事选项将用于匹配、房间、赛事等
: 具体用法可以看赛事选项的说明
: 或点击创意工坊-官方收录地图-赛事选项演示

## 2023-8-9

**新增匹配**
: 可以加入匹配，与大家进行竞速对决。(8月7号完成)
: 可以在匹配等待期间给想玩的地图投票。(8月7号完成)
: 如果票数最高的地图有多个，会在其中随机选择一个。
: 可以在匹配中观战、回放录像、断线重连。

**新增“等待”功能方块事件**
: 可以在功能方块的触发事件列表中
: 插入“等待”，以在不同时间执行不同事件。
: 比如想奏乐，之前只能同时播放所有音符。
: 现在可以把不同音符拆开，在不同时间播放。
: 注意，如果点击重新开始或回到记录点，
: “等待”就会失效，瞬间执行完其他事件。
: 踩下记录点时，“等待”也会瞬间执行完毕，
: 然后再保存记录点状态(变量等)。
: 所以应避免在一个记录点前面
: 添加一个时间很长的触发事件
: 否则还没执行完就踩记录点了。

## 2023-8-4

**创意工坊界面更新**
: 创意工坊使用新界面
: 将“公开地图”和“我的地图”等放在同个界面
: 优化筛选、排序、搜索等功能

**创意和游戏服务器分离**
: 将创意工坊建造部分和游玩部分
: 分成不同服务器，以减少性能上的互相影响
: 这样游玩部分就不会因为世界编辑器等
: 造成跑酷时卡顿，使记录点等判定延迟

## 2023-8-2

**新增关卡游玩条件**
: 可以指定拥有或完成某个评级的玩家才能游玩该关卡。

**评级修改**
: 评级判定机制修改
: 只有达到一定用时等级才算达到要求。
: 同时，自动动态用时等级算法优化。

## 2023-7-31

**新增入服引导**
: 由于太多新玩家不知道怎么开始游玩 (也无视面前的提示)， 所以加了个入服引导。
: 关闭和没关闭强制Unicode的玩家会看到不同的界面，
其中正确设置的玩家可以轻松根据指示通过引导，
而错误设置的玩家会看到正确的设置方法。
: _当然还是无法排除看不懂或乱按通过引导(无奈_

**新增鞘翅模式**
: 可以在功能方块中设置 “装备鞘翅”和“取消鞘翅”。

## 2023-7-29

**录像跳转更新**
: 在查看录像时，打开背包
: 点击在背包中的“跳转至”
: 可以手动输入跳转的时间
: 点击“跳转时间长度”
: 可以设置点击前进、后退的长度
: 默认是5s，可以调为1tick到5min
: 这样对于很长的录像(甚至有9小时的)
: 就可以快速跳到你想要的时间了

**新增 /recommend**
: 在主城或创意工坊的游戏中
: 使用指令 **/recommend**
: 可以向在主城的玩家推荐地图
: 玩家只需点击聊天框中的推荐信息
: 即可过来一起玩

## 2023-07-22

**录像“同时播放”传送用法**
: 在查看录像回放时
: 只需Shift(下蹲)+右键“同时播放”物品
: 就可以传送到主播放对象
: 不用先打开同时播放界面，再点击传送了

**功能方块“连续触发”优化**
: 功能方块触发方式“踩下”的“连续触发”
: 之前是要在在方块上行走才能触发
: 如果站在上面不动就不会触发
: 现在经过优化后，只需站在上面
: 而不用走动，就可以一直触发

**创意建造新增永久夜视**
: 在创意建造的菜单中点击特殊物品
: 可以领取永久夜视药水
: 不必隔一会喝一次了

**修复“观察模式”的恶性问题**
: 修复一个“观察”导致作弊的bug。

## 2023-07-19

**创意工坊打赏水晶**
: 现在可以在创意工坊
: 给您喜欢的地图打赏水晶了
: 打赏的水晶数会在创意工坊中显示
: 可以增加地图的推荐值和热度
: 地图作者也能收到部分水晶哦
: 部分创意建筑师可以得到水晶抽成减免

**功能方块音乐选择优化**
: 之前的功能方块触发事件中的音乐
: 由于MC中的音效和音乐太多
: 找起来不是很方便
: 现在给不同类型的声音分类
: 加上名称、描述和图标
: 可以很方便地找到您想要的声音了。

## 2023-07-18

**支持开启/关闭用时等级。**
: 对于一些没必要用到用时等级(如SSS、SS、A)的地图，
比如星跳水立方、非竞速关卡等，可以关闭用时等级。

**支持修改记录点方式。**
: 现在支持了更多修改记录点的方式。

**新增多个功能方块事件**
: 功能方块的触发事件新增：
: 1. 发送消息。
: 2. 发送Title。
: 3. 发送声音。
: 4. 改变时间、月相、天气。
: 消息与title都可以使用变量。
: 比如发送 `当前金币为xxx。`，假设变量“金币”的变量名为 `Coins`，则在消息内容这样写： `当前金币为 %Coins%。`。
: 对地图环境作出的修改仅该玩家可见，同时在玩这张地图的其他玩家不受影响。
: 也就是说，可以玩家a是晴天、玩家b却在下雨等。

**在任意位置开始原地练习**
: 可以使用“观察”飞到任意地方开始原地练习。

**新增点到点练习**
: 如果您想练习从某个位置跑到另一个位置的速跑，且希望了解使用了多长时间，
则可以使用“观察”飞到这两个位置，并设置“起点”和“终点”；接着选一个位置开始原地练习，就可以看到这两个点了。
: 会记录您用时最短的一次时间，每次从起点到终点都会告诉您比最快的一次差多少或快多少。

**个人设置更新**
: 在主城，使用快捷栏上的“游戏设置” 可以设置您的偏好。
: 1. 记录点提示 [通过消息和标题提示/仅消息提示/不提示]
: 2. 经验条显示偏好 [显示总进度/显示当前记录点进度]
: 3. 开关记分板 (仅影响跑酷时的记分榜，不影响赛事和主城的)


**升级创意工坊**
: 可以花费金币或水晶购买创意工坊额度，
点赞数超过一定值、被官方推荐的地图不会占用额度。
: 可以花费金币或水晶升级创意世界边界大小。

**功能方块触发方式更新**
: 功能方块的触发方式“踩下”，现在分“连续触发”和“单发”。
: - “连续触发”可以一直触发。
: - “单发”为踩上去触发一次，需要走开后再重新踩上去才能触发下一次。


**支持转让创意地图**
: 可以将地图转让给他人，但需要对方同意才能转让。注意，对方需要还有创意额度才能同意。
: 管理员可以帮忙转让，无视额度和同意，也可以复制创意地图给你或他人。
: 对优秀地图，可以让管理员收录地图到官方地图中。